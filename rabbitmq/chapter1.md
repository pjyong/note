# 天降奇兵

用消息队列解耦。假设老板让你在用户登录时添加一个功能用来记录每次登录输入的信息，这时候你是不是得赶紧研究那堆乱七八糟的登录代码，然后在合适的地方`Database::addRow(userLoginInfo)`，这还没完，万一代码部署到线上出问题，所有用户都无法登录。

如果使用消息队列，用户登录发送一个消息到指定队列，认证服务器接收到该消息，允许登录就会往队列再发一个消息，用户收到消息完成登录。那再添加上面这个功能时，我们无需修改现有代码，只需订阅接收登录消息的队列，这样即使出问题也不会影响业务。
